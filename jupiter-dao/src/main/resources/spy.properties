# \u6307\u5b9a\u5e94\u7528\u7684\u65e5\u5fd7\u62e6\u622a\u6a21\u5757,\u9ed8\u8ba4\u4e3acom.p6spy.engine.spy.P6SpyFactory 
#modulelist=com.p6spy.engine.spy.P6SpyFactory,com.p6spy.engine.logging.P6LogFactory,com.p6spy.engine.outage.P6OutageFactory
modulelist=com.baomidou.mybatisplus.extension.p6spy.MybatisPlusLogFactory,com.p6spy.engine.outage.P6OutageFactory

# \u771f\u5b9eJDBC driver , \u591a\u4e2a\u4ee5 \u9017\u53f7 \u5206\u5272 \u9ed8\u8ba4\u4e3a\u7a7a
driverlist=com.mysql.cj.jdbc.Driver

# \u662f\u5426\u81ea\u52a8\u5237\u65b0 \u9ed8\u8ba4 flase
#autoflush=false

# \u914d\u7f6eSimpleDateFormat\u65e5\u671f\u683c\u5f0f \u9ed8\u8ba4\u4e3a\u7a7a
dateformat=yyyy-MM-dd HH:mm:ss.SSS

# \u6253\u5370\u5806\u6808\u8ddf\u8e2a\u4fe1\u606f \u9ed8\u8ba4flase
#stacktrace=false

# \u5982\u679c stacktrace=true\uff0c\u5219\u53ef\u4ee5\u6307\u5b9a\u5177\u4f53\u7684\u7c7b\u540d\u6765\u8fdb\u884c\u8fc7\u6ee4\u3002
#stacktraceclass=

# \u76d1\u6d4b\u5c5e\u6027\u914d\u7f6e\u6587\u4ef6\u662f\u5426\u8fdb\u884c\u91cd\u65b0\u52a0\u8f7d
#reloadproperties=false

# \u5c5e\u6027\u914d\u7f6e\u6587\u4ef6\u91cd\u65b0\u52a0\u8f7d\u7684\u65f6\u95f4\u95f4\u9694\uff0c\u5355\u4f4d:\u79d2 \u9ed8\u8ba460s
#reloadpropertiesinterval=60

# \u6307\u5b9a Log \u7684 appender\uff0c\u53d6\u503c\uff1a
appender=com.p6spy.engine.spy.appender.Slf4JLogger
#appender=com.p6spy.engine.spy.appender.StdoutLogger
#appender=com.p6spy.engine.spy.appender.FileLogger
appender=com.baomidou.mybatisplus.extension.p6spy.StdoutLogger

# \u53d6\u6d88JDBC URL\u524d\u7f00
useprefix=true

# \u6307\u5b9a Log \u7684\u6587\u4ef6\u540d \u9ed8\u8ba4 spy.log
#logfile=spy.log

# \u6307\u5b9a\u662f\u5426\u6bcf\u6b21\u662f\u589e\u52a0 Log\uff0c\u8bbe\u7f6e\u4e3a false \u5219\u6bcf\u6b21\u90fd\u4f1a\u5148\u8fdb\u884c\u6e05\u7a7a \u9ed8\u8ba4true
#append=true

# \u6307\u5b9a\u65e5\u5fd7\u8f93\u51fa\u6837\u5f0f  \u9ed8\u8ba4\u4e3acom.p6spy.engine.spy.appender.SingleLineFormat , \u5355\u884c\u8f93\u51fa \u4e0d\u683c\u5f0f\u5316\u8bed\u53e5
logMessageFormat=com.baomidou.mybatisplus.extension.p6spy.P6SpyLogger
# \u4e5f\u53ef\u4ee5\u91c7\u7528  com.p6spy.engine.spy.appender.CustomLineFormat \u6765\u81ea\u5b9a\u4e49\u8f93\u51fa\u6837\u5f0f, \u9ed8\u8ba4\u503c\u662f%(currentTime)|%(executionTime)|%(category)|connection%(connectionId)|%(sqlSingleLine)
# \u53ef\u7528\u7684\u53d8\u91cf\u4e3a:
#   %(connectionId)            connection id
#   %(currentTime)             \u5f53\u524d\u65f6\u95f4
#   %(executionTime)           \u6267\u884c\u8017\u65f6
#   %(category)                \u6267\u884c\u5206\u7ec4
#   %(effectiveSql)            \u63d0\u4ea4\u7684SQL \u6362\u884c
#   %(effectiveSqlSingleLine)  \u63d0\u4ea4\u7684SQL \u4e0d\u6362\u884c\u663e\u793a
#   %(sql)                     \u6267\u884c\u7684\u771f\u5b9eSQL\u8bed\u53e5\uff0c\u5df2\u66ff\u6362\u5360\u4f4d
#   %(sqlSingleLine)           \u6267\u884c\u7684\u771f\u5b9eSQL\u8bed\u53e5\uff0c\u5df2\u66ff\u6362\u5360\u4f4d \u4e0d\u6362\u884c\u663e\u793a
#customLogMessageFormat=%(currentTime)|%(executionTime)|%(category)|connection%(connectionId)|%(sqlSingleLine)

# date\u7c7b\u578b\u5b57\u6bb5\u8bb0\u5f55\u65e5\u5fd7\u65f6\u4f7f\u7528\u7684\u65e5\u671f\u683c\u5f0f \u9ed8\u8ba4dd-MMM-yy
#databaseDialectDateFormat=dd-MMM-yy

# boolean\u7c7b\u578b\u5b57\u6bb5\u8bb0\u5f55\u65e5\u5fd7\u65f6\u4f7f\u7528\u7684\u65e5\u671f\u683c\u5f0f \u9ed8\u8ba4boolean \u53ef\u9009\u503cnumeric
#databaseDialectBooleanFormat=boolean

# \u662f\u5426\u901a\u8fc7jmx\u66b4\u9732\u5c5e\u6027 \u9ed8\u8ba4true
jmx=true

# \u5982\u679cjmx\u8bbe\u7f6e\u4e3atrue \u6307\u5b9a\u901a\u8fc7jmx\u66b4\u9732\u5c5e\u6027\u65f6\u7684\u524d\u7f00 \u9ed8\u8ba4\u4e3a\u7a7a
# com.p6spy(.<jmxPrefix>)?:name=<optionsClassName>
#jmxPrefix=

# \u662f\u5426\u663e\u793a\u7eb3\u79d2 \u9ed8\u8ba4false
#useNanoTime=false

# \u5b9e\u9645\u6570\u636e\u6e90 JNDI
#realdatasource=/RealMySqlDS
# \u5b9e\u9645\u6570\u636e\u6e90 datasource class
#realdatasourceclass=com.mysql.jdbc.jdbc2.optional.MysqlDataSource

# \u5b9e\u9645\u6570\u636e\u6e90\u6240\u643a\u5e26\u7684\u914d\u7f6e\u53c2\u6570 \u4ee5 k=v \u65b9\u5f0f\u6307\u5b9a \u4ee5 \u5206\u53f7 \u5206\u5272
#realdatasourceproperties=port;3306,serverName;myhost,databaseName;jbossdb,foo;bar

# jndi\u6570\u636e\u6e90\u914d\u7f6e 
# \u8bbe\u7f6e JNDI \u6570\u636e\u6e90\u7684 NamingContextFactory\u3002 
#jndicontextfactory=org.jnp.interfaces.NamingContextFactory
# \u8bbe\u7f6e JNDI \u6570\u636e\u6e90\u7684\u63d0\u4f9b\u8005\u7684 URL\u3002 
#jndicontextproviderurl=localhost:1099
# \u8bbe\u7f6e JNDI \u6570\u636e\u6e90\u7684\u4e00\u4e9b\u5b9a\u5236\u4fe1\u606f\uff0c\u4ee5\u5206\u53f7\u5206\u9694\u3002 
#jndicontextcustom=java.naming.factory.url.pkgs;org.jboss.naming:org.jnp.interfaces

# \u662f\u5426\u5f00\u542f\u65e5\u5fd7\u8fc7\u6ee4 \u9ed8\u8ba4false\uff0c \u8fd9\u9879\u914d\u7f6e\u662f\u5426\u751f\u6548\u524d\u63d0\u662f\u914d\u7f6e\u4e86 include/exclude/sqlexpression
filter=true

# \u8fc7\u6ee4 Log \u65f6\u6240\u5305\u542b\u7684\u8868\u540d\u5217\u8868\uff0c\u4ee5\u9017\u53f7\u5206\u9694 \u9ed8\u8ba4\u4e3a\u7a7a
#include=
# \u8fc7\u6ee4 Log \u65f6\u6240\u6392\u9664\u7684\u8868\u540d\u5217\u8868\uff0c\u4ee5\u9017\u53f7\u5206\u9694 \u9ed8\u8ba4\u4e3a\u7a7a
#exclude=

# \u8fc7\u6ee4 Log \u65f6\u7684 SQL \u6b63\u5219\u8868\u8fbe\u5f0f\u540d\u79f0  \u9ed8\u8ba4\u4e3a\u7a7a
sqlexpression=\S{2}\s{1}ping\s{1}\S{2}\s{1}SELECT\s{1}1

#\u663e\u793a\u6307\u5b9a\u8fc7\u6ee4 Log \u65f6\u6392\u961f\u7684\u5206\u7c7b\u5217\u8868\uff0c\u53d6\u503c: error, info, batch, debug, statement,
#commit, rollback, result and resultset are valid values
# (\u9ed8\u8ba4 info,debug,result,resultset,batch)
excludecategories=info,debug,result,resultset,batch

# \u662f\u5426\u8fc7\u6ee4\u4e8c\u8fdb\u5236\u5b57\u6bb5
# (default is false)
#excludebinary=false

# P6Log \u6a21\u5757\u6267\u884c\u65f6\u95f4\u8bbe\u7f6e\uff0c\u6574\u6570\u503c (\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d)\uff0c\u53ea\u6709\u5f53\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u624d\u8fdb\u884c\u8bb0\u5f55 Log\u3002 \u9ed8\u8ba4\u4e3a0
executionThreshold=1

# P6Outage \u6a21\u5757\u662f\u5426\u8bb0\u5f55\u8f83\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u8bed\u53e5 \u9ed8\u8ba4false
outagedetection=true
# P6Outage \u6a21\u5757\u6267\u884c\u65f6\u95f4\u8bbe\u7f6e\uff0c\u6574\u6570\u503c \uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d)\uff09\uff0c\u53ea\u6709\u5f53\u8d85\u8fc7\u8fd9\u4e2a\u65f6\u95f4\u624d\u8fdb\u884c\u8bb0\u5f55 Log\u3002 \u9ed8\u8ba430s
outagedetectioninterval=5